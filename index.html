<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Tabs3 Time Capture</title>
<style>
  body { font-family: -apple-system, system-ui, Segoe UI, Roboto, sans-serif; margin:0; background:#f4f6fb; color:#111; }
  header { padding:14px 16px; background:#153a77; color:#fff; position:sticky; top:0; z-index:10; }
  header .row { display:flex; align-items:center; justify-content:space-between; gap:10px; }
  header h1 { font-size:16px; margin:0; font-weight:700; }
  header .pill { font-size:12px; background:rgba(255,255,255,.18); padding:6px 10px; border-radius:999px; }
  main { padding:14px 16px 120px; max-width:900px; margin:0 auto; }
  .card { background:#fff; border-radius:12px; padding:14px; box-shadow:0 2px 10px rgba(15,25,40,.06); margin-bottom:12px; }
  .grid { display:grid; grid-template-columns: 1fr; gap:10px; }
  @media(min-width:760px){ .grid.two{ grid-template-columns: 1fr 1fr; } .grid.three{ grid-template-columns: 1fr 1fr 1fr; } }
  label { font-size:12px; font-weight:700; color:#334; display:block; margin-bottom:6px; }
  input, textarea, select, button { width:100%; font-size:16px; padding:12px; border-radius:10px; border:1px solid #d7ddea; outline:none; box-sizing:border-box; }
  textarea { min-height:84px; resize:vertical; }
  input:focus, textarea:focus { border-color:#153a77; box-shadow:0 0 0 3px rgba(21,58,119,.12); }
  .btn { background:#153a77; color:#fff; border:none; font-weight:800; }
  .btn.secondary { background:#eef2ff; color:#153a77; border:1px solid #d6ddff; }
  .btn.danger { background:#b42318; }
  .row { display:flex; gap:10px; flex-wrap:wrap; }
  .row > * { flex:1; }
  .small { font-size:12px; color:#556; }
  .muted { color:#667; }
  .divider { height:1px; background:#eef0f6; margin:10px 0; }

  /* Search dropdown */
  .searchWrap { position:relative; }
  .dropdown { position:absolute; left:0; right:0; top:calc(100% + 6px); background:#fff; border:1px solid #d7ddea; border-radius:12px; overflow:hidden; box-shadow:0 8px 24px rgba(20,30,50,.14); display:none; max-height:320px; overflow:auto; z-index:50; }
  .opt { padding:10px 12px; border-bottom:1px solid #f0f2f8; cursor:pointer; }
  .opt:last-child{ border-bottom:none; }
  .opt:hover { background:#f3f6ff; }
  .opt .top { font-weight:800; font-size:14px; }
  .opt .mid { font-size:13px; color:#334; margin-top:2px; }
  .opt .bot { font-size:12px; color:#667; margin-top:2px; display:flex; justify-content:space-between; gap:10px; }
  .k { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; background:#f4f6fb; padding:2px 6px; border-radius:6px; border:1px solid #e5e9f5; }

  /* Entries list */
  .entry { border:1px solid #e6eaf6; border-radius:12px; padding:12px; margin-top:10px; }
  .entry .meta { display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; }
  .entry .meta .left { display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
  .badge { font-size:12px; border:1px solid #e1e6f7; padding:4px 8px; border-radius:999px; background:#f7f9ff; }
  .entry .desc { margin-top:8px; white-space:pre-wrap; }
  .entry .actions { margin-top:10px; display:flex; gap:8px; }
  .entry .actions button { padding:10px; font-size:14px; border-radius:10px; }

  /* Sticky footer */
  footer { position:fixed; left:0; right:0; bottom:0; background:rgba(244,246,251,.92); backdrop-filter: blur(10px); border-top:1px solid #e8ecf8; }
  footer .wrap { max-width:900px; margin:0 auto; padding:10px 16px; display:flex; gap:10px; }
</style>
</head>
<body>

<header>
  <div class="row">
    <h1>Tabs3 Time Capture</h1>
    <div class="pill">Timekeeper: <span id="tkPill">70</span></div>
  </div>
</header>

<main>

  <div class="card">
    <div class="grid two">
      <div>
        <label>Import Client/Matter CSV</label>
        <input id="csvFile" type="file" accept=".csv,text/csv" />
        <div class="small muted" style="margin-top:6px;">
          Expected columns (flexible): <span class="k">Client ID</span> (full like 11015.0001), <span class="k">Client Name</span>, <span class="k">Matter</span>
        </div>
      </div>
      <div>
        <label>Settings</label>
        <div class="row">
          <input id="timekeeper" inputmode="numeric" placeholder="Timekeeper (default 70)" />
          <button class="btn secondary" id="saveSettings">Save</button>
        </div>
        <div class="small muted" style="margin-top:6px;">
          Timekeeper always appears in export. If blank, app uses <b>70</b>.
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <div class="grid two">
      <div>
        <label>Recents</label>
        <select id="recents"></select>
        <div class="small muted" style="margin-top:6px;">Tap a recent to re-select instantly.</div>
      </div>
      <div>
        <label>Favorites</label>
        <select id="favorites"></select>
        <div class="small muted" style="margin-top:6px;">Add favorites from the selected matter.</div>
      </div>
    </div>
  </div>

  <div class="card">
    <label>Client/Matter (one box)</label>
    <div class="searchWrap">
      <input
        id="matterSearch"
        type="text"
        inputmode="text"
        autocomplete="off"
        autocapitalize="none"
        autocorrect="off"
        spellcheck="false"
        placeholder='Dictate/type… e.g., "Gamma TSX" or "11015" or "PMG"'
      />
      <div id="dropdown" class="dropdown"></div>
    </div>

    <div style="margin-top:10px;">
      <div class="small muted">Selected:</div>
      <div id="selectedLine" style="font-weight:800; margin-top:4px;">None</div>
      <input type="hidden" id="selectedFullId" />
      <div class="row" style="margin-top:10px;">
        <button class="btn secondary" id="addFav">Add to Favorites</button>
        <button class="btn secondary" id="clearSel">Clear Selection</button>
      </div>
    </div>

    <div class="divider"></div>

    <div class="grid two">
      <div>
        <label>Description</label>
        <textarea id="desc" placeholder="Dictate work description here…"></textarea>
      </div>
      <div class="grid">
        <div>
          <label>Hours</label>
          <input id="hours" type="number" step="0.1" inputmode="decimal" placeholder="e.g., 0.3" />
        </div>
        <div class="grid two">
          <div>
            <label>Date</label>
            <input id="workDate" type="date" />
          </div>
          <div>
            <label>Quick</label>
            <button class="btn secondary" id="addPoint1">+0.1</button>
          </div>
        </div>
        <div>
          <button class="btn" id="addEntry">Add Entry</button>
          <div class="small muted" style="margin-top:8px;">
            Tip: Tap the description box and use iPhone dictation. The matter box is for search + selection.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="grid three">
      <div>
        <label>Daily Review</label>
        <input id="reviewDate" type="date" />
        <div class="small muted" style="margin-top:6px;">Shows entries for that date only.</div>
      </div>
      <div>
        <label>Total Hours (review date)</label>
        <input id="totalHours" readonly />
      </div>
      <div>
        <label>Data</label>
        <button class="btn secondary" id="clearAll">Clear All Entries</button>
      </div>
    </div>

    <div id="entriesList"></div>
  </div>

</main>

<footer>
  <div class="wrap">
    <button class="btn" id="exportCsv">Export Tabs3 CSV</button>
    <button class="btn secondary" id="exportRange">Export Date Range</button>
  </div>
</footer>

<script>
/* -----------------------------
   Storage helpers
--------------------------------*/
const LS = {
  matters: "tabs3_matters_v1",
  settings: "tabs3_settings_v1",
  entries: "tabs3_entries_v1",
  recents: "tabs3_recents_v1",
  favorites: "tabs3_favorites_v1",
};

function loadJSON(key, fallback) {
  try { return JSON.parse(localStorage.getItem(key) || "") ?? fallback; }
  catch { return fallback; }
}
function saveJSON(key, value) {
  localStorage.setItem(key, JSON.stringify(value));
}

/* -----------------------------
   State
--------------------------------*/
let matters = loadJSON(LS.matters, []);   // imported lookup list
let entries = loadJSON(LS.entries, []);   // time entries
let recents = loadJSON(LS.recents, []);   // full_id list
let favorites = loadJSON(LS.favorites, []); // full_id list
let settings = loadJSON(LS.settings, { timekeeper: "70" });

/* -----------------------------
   DOM
--------------------------------*/
const tkPill = document.getElementById("tkPill");
const timekeeper = document.getElementById("timekeeper");
const saveSettingsBtn = document.getElementById("saveSettings");

const csvFile = document.getElementById("csvFile");

const matterSearch = document.getElementById("matterSearch");
const dropdown = document.getElementById("dropdown");
const selectedLine = document.getElementById("selectedLine");
const selectedFullId = document.getElementById("selectedFullId");

const addFav = document.getElementById("addFav");
const clearSel = document.getElementById("clearSel");

const desc = document.getElementById("desc");
const hours = document.getElementById("hours");
const workDate = document.getElementById("workDate");
const addPoint1 = document.getElementById("addPoint1");
const addEntryBtn = document.getElementById("addEntry");

const reviewDate = document.getElementById("reviewDate");
const entriesList = document.getElementById("entriesList");
const totalHours = document.getElementById("totalHours");
const clearAll = document.getElementById("clearAll");

const exportCsvBtn = document.getElementById("exportCsv");
const exportRangeBtn = document.getElementById("exportRange");

const recentsSelect = document.getElementById("recents");
const favoritesSelect = document.getElementById("favorites");

/* -----------------------------
   Init defaults
--------------------------------*/
function todayISO() {
  const d = new Date();
  const tzOff = d.getTimezoneOffset() * 60000;
  return new Date(d - tzOff).toISOString().slice(0,10);
}
workDate.value = todayISO();
reviewDate.value = todayISO();

function normalize(s) {
  return (s || "")
    .toLowerCase()
    .replace(/[^\w\s.\-]/g, " ")
    .replace(/\s+/g, " ")
    .trim();
}
function safeTK() {
  const raw = (settings.timekeeper || "").toString().trim();
  if (!raw) return "70";
  // If user typed "MEC-70", extract digits
  const m = raw.match(/(\d+)/);
  return (m && m[1]) ? m[1] : "70";
}

/* -----------------------------
   Matter index + search
--------------------------------*/
function buildSearchText(m) {
  const base = `${m.full_id} ${m.client_name} ${m.matter_desc}`;
  return normalize((m.search_text && m.search_text.trim()) ? m.search_text : base);
}

function scoreMatch(q, m) {
  // Simple ranking: exact id prefix > contains > token matches
  const st = buildSearchText(m);
  if (m.full_id.startsWith(q)) return 1000;
  if (st.includes(q)) return 500;
  const tokens = q.split(" ");
  let t = 0;
  for (const tok of tokens) if (tok && st.includes(tok)) t += 30;
  return t;
}

let debounceTimer = null;
matterSearch.addEventListener("input", () => {
  clearTimeout(debounceTimer);
  debounceTimer = setTimeout(() => runSearch(), 120);
});

function runSearch() {
  const q = normalize(matterSearch.value);
  if (q.length < 2 || matters.length === 0) {
    dropdown.style.display = "none";
    dropdown.innerHTML = "";
    return;
  }
  const hits = matters
    .map(m => ({ m, s: scoreMatch(q, m) }))
    .filter(x => x.s > 0)
    .sort((a,b) => b.s - a.s)
    .slice(0, 12)
    .map(x => x.m);

  renderDropdown(hits);
}

function renderDropdown(list) {
  dropdown.innerHTML = "";
  if (!list.length) { dropdown.style.display = "none"; return; }

  for (const m of list) {
    const div = document.createElement("div");
    div.className = "opt";
    div.innerHTML = `
      <div class="top">${escapeHTML(m.client_name || "—")}</div>
      <div class="mid">${escapeHTML(m.matter_desc || "—")}</div>
      <div class="bot">
        <span class="k">${escapeHTML(m.full_id)}</span>
        <span class="muted">${escapeHTML((m.client_id||"") + (m.matter_id?("." + m.matter_id):""))}</span>
      </div>
    `;
    div.addEventListener("mousedown", (e) => { e.preventDefault(); selectMatter(m); });
    div.addEventListener("click", () => selectMatter(m));
    dropdown.appendChild(div);
  }
  dropdown.style.display = "block";
}

function selectMatter(m) {
  selectedFullId.value = m.full_id;
  selectedLine.textContent = `${m.full_id} — ${m.client_name} — ${m.matter_desc}`;
  dropdown.style.display = "none";
  dropdown.innerHTML = "";
  matterSearch.value = "";
  matterSearch.blur();

  // add to recents
  recents = [m.full_id, ...recents.filter(x => x !== m.full_id)].slice(0, 15);
  saveJSON(LS.recents, recents);
  renderRecentsAndFavorites();
}

function clearSelection() {
  selectedFullId.value = "";
  selectedLine.textContent = "None";
}
clearSel.addEventListener("click", clearSelection);

document.addEventListener("click", (e) => {
  if (!dropdown.contains(e.target) && e.target !== matterSearch) {
    dropdown.style.display = "none";
  }
});

/* -----------------------------
   Recents / Favorites UI
--------------------------------*/
function fullIdToLabel(fullId) {
  const m = matters.find(x => x.full_id === fullId);
  if (!m) return fullId;
  return `${m.full_id} — ${m.client_name} — ${m.matter_desc}`;
}

function renderRecentsAndFavorites() {
  recentsSelect.innerHTML = "";
  favoritesSelect.innerHTML = "";

  const recOpt0 = document.createElement("option");
  recOpt0.value = "";
  recOpt0.textContent = matters.length ? "Select a recent…" : "Import matters first…";
  recentsSelect.appendChild(recOpt0);

  for (const id of recents) {
    const o = document.createElement("option");
    o.value = id;
    o.textContent = fullIdToLabel(id);
    recentsSelect.appendChild(o);
  }

  const favOpt0 = document.createElement("option");
  favOpt0.value = "";
  favOpt0.textContent = favorites.length ? "Select a favorite…" : "No favorites yet";
  favoritesSelect.appendChild(favOpt0);

  for (const id of favorites) {
    const o = document.createElement("option");
    o.value = id;
    o.textContent = fullIdToLabel(id);
    favoritesSelect.appendChild(o);
  }
}

recentsSelect.addEventListener("change", () => {
  const id = recentsSelect.value;
  if (!id) return;
  const m = matters.find(x => x.full_id === id);
  if (m) selectMatter(m);
  recentsSelect.value = "";
});

favoritesSelect.addEventListener("change", () => {
  const id = favoritesSelect.value;
  if (!id) return;
  const m = matters.find(x => x.full_id === id);
  if (m) selectMatter(m);
  favoritesSelect.value = "";
});

addFav.addEventListener("click", () => {
  const id = selectedFullId.value;
  if (!id) return alert("Select a matter first.");
  favorites = [id, ...favorites.filter(x => x !== id)].slice(0, 30);
  saveJSON(LS.favorites, favorites);
  renderRecentsAndFavorites();
});

/* -----------------------------
   Settings
--------------------------------*/
function renderSettings() {
  const tk = safeTK();
  tkPill.textContent = tk;
  timekeeper.value = (settings.timekeeper || "70");
}
saveSettingsBtn.addEventListener("click", () => {
  settings.timekeeper = (timekeeper.value || "").trim() || "70";
  saveJSON(LS.settings, settings);
  renderSettings();
});

/* -----------------------------
   CSV Import
--------------------------------*/
csvFile.addEventListener("change", async () => {
  const file = csvFile.files && csvFile.files[0];
  if (!file) return;

  const text = await file.text();
  const parsed = parseCSV(text);
  if (!parsed.rows.length) return alert("Could not read CSV rows.");

  // header normalization
  const headers = parsed.headers.map(h => normalize(h));
  const idx = (names) => {
    for (const n of names) {
      const i = headers.indexOf(normalize(n));
      if (i >= 0) return i;
    }
    return -1;
  };

  const idI = idx(["client id", "clientid", "id", "matter id", "matterid", "tabs3 id"]);
  const clientNameI = idx(["client name", "client", "clientname"]);
  const matterDescI = idx(["matter", "matter description", "description", "matterdesc", "matter desc"]);

  if (idI < 0) {
    return alert('CSV must contain a "Client ID" column with full Tabs3 IDs like 11015.0001.');
  }

  const newMatters = [];
  for (const r of parsed.rows) {
    const full_id = (r[idI] || "").trim();
    if (!full_id || !full_id.includes(".")) continue;

    const parts = full_id.split(".");
    const client_id = parts[0] || "";
    const matter_id = parts[1] || "";

    const client_name = clientNameI >= 0 ? (r[clientNameI] || "").trim() : "";
    const matter_desc = matterDescI >= 0 ? (r[matterDescI] || "").trim() : "";

    const search_text = normalize(`${full_id} ${client_id} ${matter_id} ${client_name} ${matter_desc}`);
    newMatters.push({ full_id, client_id, matter_id, client_name, matter_desc, search_text });
  }

  if (!newMatters.length) return alert("No valid rows found (need full IDs like 11015.0001).");

  matters = newMatters;
  saveJSON(LS.matters, matters);
  renderRecentsAndFavorites();
  alert(`Imported ${matters.length} matters.`);
});

/* -----------------------------
   Entries
--------------------------------*/
function addEntry() {
  const id = selectedFullId.value;
  const d = (desc.value || "").trim();
  const h = (hours.value || "").toString().trim();
  const dt = workDate.value || todayISO();

  if (!id) return alert("Select a Client/Matter first.");
  if (!d) return alert("Add a description.");
  if (!h || isNaN(Number(h)) || Number(h) <= 0) return alert("Enter hours (e.g., 0.3).");

  const m = matters.find(x => x.full_id === id);
  const item = {
    id: cryptoId(),
    date: dt,
    timekeeper: safeTK(),
    matter_full_id: id,
    client_name: m?.client_name || "",
    matter_desc: m?.matter_desc || "",
    hours: Number(h),
    description: d,
    created_at: Date.now()
  };

  entries.unshift(item);
  saveJSON(LS.entries, entries);

  // reset fields but keep selection (you can clear if you want)
  desc.value = "";
  hours.value = "";
  desc.focus();

  renderReview();
}
addEntryBtn.addEventListener("click", addEntry);

addPoint1.addEventListener("click", () => {
  const cur = Number(hours.value || 0);
  hours.value = (Math.round((cur + 0.1) * 10) / 10).toFixed(1);
});

/* -----------------------------
   Review UI
--------------------------------*/
reviewDate.addEventListener("change", renderReview);

function renderReview() {
  const dt = reviewDate.value || todayISO();
  const list = entries.filter(e => e.date === dt);

  entriesList.innerHTML = "";

  let total = 0;
  for (const e of list) total += Number(e.hours || 0);
  totalHours.value = total.toFixed(1);

  if (!list.length) {
    entriesList.innerHTML = `<div class="small muted" style="margin-top:8px;">No entries for ${dt}.</div>`;
    return;
  }

  for (const e of list) {
    const div = document.createElement("div");
    div.className = "entry";
    div.innerHTML = `
      <div class="meta">
        <div class="left">
          <span class="badge"><b>${escapeHTML(e.matter_full_id)}</b></span>
          <span class="badge">${escapeHTML(e.hours.toFixed(1))} hrs</span>
          <span class="badge">TK ${escapeHTML(e.timekeeper || safeTK())}</span>
        </div>
        <div class="small muted">${escapeHTML(e.client_name)} — ${escapeHTML(e.matter_desc)}</div>
      </div>
      <div class="desc">${escapeHTML(e.description)}</div>
      <div class="actions">
        <button class="btn secondary" onclick="editEntry('${e.id}')">Edit</button>
        <button class="btn danger" onclick="deleteEntry('${e.id}')">Delete</button>
      </div>
    `;
    entriesList.appendChild(div);
  }
}

window.deleteEntry = function(id) {
  entries = entries.filter(e => e.id !== id);
  saveJSON(LS.entries, entries);
  renderReview();
};

window.editEntry = function(id) {
  const e = entries.find(x => x.id === id);
  if (!e) return;

  const newDesc = prompt("Edit description:", e.description);
  if (newDesc === null) return;

  const newHours = prompt("Edit hours:", String(e.hours));
  if (newHours === null) return;

  const h = Number(newHours);
  if (!newDesc.trim()) return alert("Description required.");
  if (!h || isNaN(h) || h <= 0) return alert("Hours must be a number > 0.");

  e.description = newDesc.trim();
  e.hours = h;
  saveJSON(LS.entries, entries);
  renderReview();
};

clearAll.addEventListener("click", () => {
  if (!confirm("Clear ALL entries?")) return;
  entries = [];
  saveJSON(LS.entries, entries);
  renderReview();
});

/* -----------------------------
   Export
--------------------------------*/
exportCsvBtn.addEventListener("click", () => {
  const dt = reviewDate.value || todayISO();
  const list = entries.filter(e => e.date === dt);
  if (!list.length) return alert(`No entries for ${dt}.`);
  downloadCSV(list, `tabs3_${dt}.csv`);
});

exportRangeBtn.addEventListener("click", () => {
  const start = prompt("Start date (YYYY-MM-DD):", todayISO());
  if (!start) return;
  const end = prompt("End date (YYYY-MM-DD):", todayISO());
  if (!end) return;

  const list = entries.filter(e => e.date >= start && e.date <= end);
  if (!list.length) return alert("No entries in that date range.");
  downloadCSV(list, `tabs3_${start}_to_${end}.csv`);
});

function downloadCSV(list, filename) {
  // Keep this simple and stable: Date, Timekeeper, Matter, Hours, Description
  // Timekeeper ALWAYS present (default 70)
  let csv = "Date,Timekeeper,Matter,Hours,Description\n";
  for (const e of list) {
    const tk = (e.timekeeper || safeTK() || "70");
    const line = [
      e.date,
      tk,
      e.matter_full_id,
      Number(e.hours).toFixed(1),
      csvQuote(e.description)
    ].join(",");
    csv += line + "\n";
  }

  const blob = new Blob([csv], { type: "text/csv;charset=utf-8" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
}

function csvQuote(s) {
  const t = (s ?? "").toString().replace(/"/g, '""');
  return `"${t}"`;
}

/* -----------------------------
   Tiny CSV parser
--------------------------------*/
function parseCSV(text) {
  const rows = [];
  let cur = [];
  let val = "";
  let inQuotes = false;

  for (let i=0; i<text.length; i++) {
    const c = text[i];
    const next = text[i+1];

    if (inQuotes) {
      if (c === '"' && next === '"') { val += '"'; i++; }
      else if (c === '"') inQuotes = false;
      else val += c;
    } else {
      if (c === '"') inQuotes = true;
      else if (c === ",") { cur.push(val); val=""; }
      else if (c === "\n") { cur.push(val); rows.push(cur); cur=[]; val=""; }
      else if (c === "\r") { /* skip */ }
      else val += c;
    }
  }
  cur.push(val);
  if (cur.length > 1 || cur[0].trim() !== "") rows.push(cur);

  const headers = (rows.shift() || []).map(h => (h || "").trim());
  return { headers, rows };
}

/* -----------------------------
   Utilities
--------------------------------*/
function escapeHTML(str) {
  return (str ?? "").toString()
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}
function cryptoId() {
  return (crypto && crypto.randomUUID) ? crypto.randomUUID() : String(Date.now()) + "_" + Math.random().toString(16).slice(2);
}

/* -----------------------------
   Boot
--------------------------------*/
function boot() {
  // Ensure settings exist
  if (!settings || typeof settings !== "object") settings = { timekeeper: "70" };
  if (!settings.timekeeper) settings.timekeeper = "70";
  saveJSON(LS.settings, settings);

  renderSettings();
  renderRecentsAndFavorites();
  renderReview();

  // If no matters imported yet, give a hint in dropdown behavior
  if (!matters.length) {
    selectedLine.textContent = "None (Import your Client/Matter CSV above)";
  }
}
boot();
</script>

</body>
</html>
